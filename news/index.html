<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • bbr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://metrumresearchgroup.github.io/bbr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bbr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/getting-started.html">Getting Started with bbr</a>
    </li>
    <li>
      <a href="../articles/nonmem-parallel.html">Running NONMEM in Parallel: bbr Tips and Tricks</a>
    </li>
    <li>
      <a href="../articles/parameter-labels.html">bbr Parameter Labels</a>
    </li>
    <li>
      <a href="../articles/using-based-on.html">Using the based_on field</a>
    </li>
    <li>
      <a href="../articles/using-summary-log.html">Creating a Model Summary Log</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/metrumresearchgroup/bbr" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2.1" id="bbr-121">bbr 1.2.1<a class="anchor" aria-label="anchor" href="#bbr-121"></a></h2>
<div class="section level3">
<h3 id="docs-1-2-1">Docs<a class="anchor" aria-label="anchor" href="#docs-1-2-1"></a></h3>
<ul><li>New functions from the 1.2.0 release are now mentioned in the docs. (#440)</li>
</ul></div>
<div class="section level3">
<h3 id="changes-1-2-1">Changes<a class="anchor" aria-label="anchor" href="#changes-1-2-1"></a></h3>
<ul><li>
<code><a href="../reference/use_bbi.html">use_bbi()</a></code> no longer depends on external tools such as <code>wget</code> and <code>tar</code>, hopefully improving its reliability across different systems. (#448)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-2-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-2-1"></a></h3>
<ul><li><p><code><a href="../reference/use_bbi.html">use_bbi()</a></code> printed the wrong current release when an older version was requested. (#144)</p></li>
<li><p><code><a href="../reference/use_bbi.html">use_bbi()</a></code> and <code><a href="../reference/bbi_version.html">bbi_version()</a></code> crashed if the bbi executable path contained spaces. (#409)</p></li>
<li><p><code><a href="../reference/model_summary.html">model_summary()</a></code> failed with an unclear error message when a caller accidentally placed more than one <code>.lst</code> file in the model directory. (#449)</p></li>
<li><p><code><a href="../reference/bbi_help.html">bbi_help()</a></code> had a longstanding regression that prevented it from emitting any output. (#447)</p></li>
<li><p><code>bbi nonmem summary</code> used to fail with an out-of-bounds error when fed <code>ONLYSIM</code> output, but, as of bbi v3.1.1, it sets the “only_sim” field. <code><a href="../reference/print_bbi.html">print.bbi_nonmem_summary()</a></code> and <code><a href="../reference/param_estimates.html">param_estimates.bbi_nonmem_summary()</a></code> have been updated to check for the new field. (#443)</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2.0" id="bbr-120">bbr 1.2.0<a class="anchor" aria-label="anchor" href="#bbr-120"></a></h2>
<p>This release adds a number of helper functions, primarily for use with NONMEM models.</p>
<div class="section level3">
<h3 id="new-features-and-changes-1-2-0">New features and changes<a class="anchor" aria-label="anchor" href="#new-features-and-changes-1-2-0"></a></h3>
<ul><li><p>Added <code><a href="../reference/nm_file.html">nm_file()</a></code>, <code><a href="../reference/nm_file.html">nm_grd()</a></code>, <code><a href="../reference/nm_file.html">nm_tab()</a></code>, <code><a href="../reference/nm_file.html">nm_par_tab()</a></code>, and <code><a href="../reference/nm_file.html">nm_data()</a></code> for reading in NONMEM files more easily. (#426)</p></li>
<li><p>Added <code><a href="../reference/nm_join.html">nm_join()</a></code>, <code><a href="../reference/nm_tables.html">nm_tables()</a></code>, and <code><a href="../reference/nm_tables.html">nm_table_files()</a></code> for reading in NONMEM tables more easily. Notably, <code><a href="../reference/nm_join.html">nm_join()</a></code> can be used to get a single tibble containing your NONMEM input data joined against all of your table outputs. (#429 and #430)</p></li>
<li><p><code><a href="../reference/param_estimates_batch.html">param_estimates_batch()</a></code> for extracting a tibble of parameter estimates from a batch of NONMEM runs. Especially useful for large batches of runs created by something like a bootstrap. (#386)</p></li>
<li><p><code><a href="../reference/cov_cor.html">cov_cor()</a></code> and <code><a href="../reference/check_cor_threshold.html">check_cor_threshold()</a></code> for pulling in covariance and correlation matrices from NONMEM <code>.cov</code> and <code>.cor</code> files. (#414)</p></li>
<li><p>Passing the <code>.new_model</code> argument to <code><a href="../reference/copy_model_from.html">copy_model_from()</a></code> is now optional. By default, it now tries to increment to the next available integer in the destination directory (the directory containing the parent model). (#424)</p></li>
<li><p><code><a href="../reference/update_model_id.html">update_model_id()</a></code> for updating mentions of the parent model in the child model’s control stream. (#417)</p></li>
<li><p>Per guidance in <code>bbr 1.0.0</code> release, <code>replace_tags()</code>, <code>replace_bbi_args()</code>, <code>replace_based_on()</code>, <code>add_decisions()</code>, and <code>replace_decisions()</code> have been removed.</p></li>
<li><p>Deprecated <code><a href="../reference/check_nonmem_table_output.html">check_nonmem_table_output()</a></code>, <code><a href="../reference/check_nonmem_table_output.html">check_grd()</a></code>, and <code><a href="../reference/check_nonmem_table_output.html">check_ext()</a></code> and replaced them with <code><a href="../reference/nm_file.html">nm_file()</a></code> variants. These functions will warn about this for two more releases and then begin to error for two more releases before being removed altogether. (#426)</p></li>
<li><p>Deprecated <code><a href="../reference/plot_nonmem_table_df.html">plot_nonmem_table_df()</a></code>, <code><a href="../reference/plot_nonmem_table_df.html">plot_grd()</a></code>, and <code><a href="../reference/plot_nonmem_table_df.html">plot_ext()</a></code> in an effort to more tightly define the scope of <code>bbr</code>. These functions will warn about this for two more releases and then begin to error for two more releases before being removed altogether. (#426)</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.4" id="bbr-114">bbr 1.1.4<a class="anchor" aria-label="anchor" href="#bbr-114"></a></h2>
<div class="section level3">
<h3 id="docs-1-1-4">Docs<a class="anchor" aria-label="anchor" href="#docs-1-1-4"></a></h3>
<ul><li>Added “Running NONMEM in Parallel: bbr Tips and Tricks” vignette. (#407)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-1-4">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-1-4"></a></h3>
<ul><li>Fixed bug where adding tags as a list instead of a character vector broke downstream functions like <code><a href="../reference/collapse_to_string.html">collapse_to_string()</a></code> (#393)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.3" id="bbr-113">bbr 1.1.3<a class="anchor" aria-label="anchor" href="#bbr-113"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-1-1-3">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-1-3"></a></h3>
<ul><li><p>Fixed a bug where submitting multiple models in a loop with <code>submit_model(.mode = "local", .wait = FALSE)</code> would cause the models to never finish because the <code>bbi</code> processes would get <a href="https://processx.r-lib.org/reference/process.html#cleaning-up-background-processes" class="external-link">killed by <code>processx</code></a> when the R objects were garbage collected. (#390)</p></li>
<li><p><code>bbr</code> now checks for a valid configuration file <em>before</em> calling out to <code>bbi</code> to avoid the situation where <code>.wait = FALSE</code> and the “no config file” error from <code>bbi</code> is swallowed. Note, this check is skipped if <code>.dry_run = TRUE</code>. (#390)</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.2" id="bbr-112">bbr 1.1.2<a class="anchor" aria-label="anchor" href="#bbr-112"></a></h2>
<div class="section level3">
<h3 id="new-features-and-changes-1-1-2">New features and changes<a class="anchor" aria-label="anchor" href="#new-features-and-changes-1-1-2"></a></h3>
<ul><li><p>Added <code>options(bbr.bbi_exe_mode)</code> for globally setting <code>.mode</code> argument to <code><a href="../reference/submit_model.html">submit_model()</a></code> and <code><a href="../reference/submit_models.html">submit_models()</a></code>. (#377)</p></li>
<li><p>Added <code>.bbi_args</code> argument to <code><a href="../reference/bbi_init.html">bbi_init()</a></code> for passing through defaults to be stored in the created <code>bbi.yaml</code> file. (#378)</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.1" id="bbr-111">bbr 1.1.1<a class="anchor" aria-label="anchor" href="#bbr-111"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-1-1-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-1-1"></a></h3>
<ul><li>There was a bug where submitting more than roughly 250 models at time via <code><a href="../reference/submit_models.html">submit_models()</a></code> (e.g. for bootstrapping) would hang indefinitely. This had something to do with <a href="https://github.com/r-lib/processx/issues/286" class="external-link">a bug in processx</a>. It was fixed (in <code>bbr</code>) by routing the stdout and stderr to a temp file and then reading from it when necessary, instead of relying on <code>processx</code> to poll the process. (#374)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.0" id="bbr-110">bbr 1.1.0<a class="anchor" aria-label="anchor" href="#bbr-110"></a></h2>
<div class="section level3">
<h3 id="new-features-and-changes-1-1-0">New features and changes<a class="anchor" aria-label="anchor" href="#new-features-and-changes-1-1-0"></a></h3>
<ul><li><p>Added <code><a href="../reference/tags_diff.html">tags_diff()</a></code> function for comparing the tags between different models. (#337)</p></li>
<li><p>Added <code><a href="../reference/model_diff.html">model_diff()</a></code> function for comparing the model files between different models. (#342)</p></li>
<li><p>Added <code><a href="../reference/check_up_to_date.html">check_up_to_date()</a></code> function for checking whether the model file(s) and data file(s) associated with a model have changed since the model was run. (#338)</p></li>
<li><p>Added more documentation about the heuristics returned from <code><a href="../reference/model_summary.html">model_summary.bbi_nonmem_model()</a></code> (#343)</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-1-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-1-0"></a></h3>
<ul><li>
<code><a href="../reference/param_estimates.html">param_estimates()</a></code> now correctly errors when a Bayesian method is used but is <em>not</em> the final method. (#344)</li>
</ul></div>
<div class="section level3">
<h3 id="developer-facing-changes-1-1-0">Developer-facing changes<a class="anchor" aria-label="anchor" href="#developer-facing-changes-1-1-0"></a></h3>
<ul><li>Added a <code>bbi_model</code> parent class to <code>bbi_nonmem_model</code> and <code>bbi_nonmem_summary</code> objects. Many of the helpers in <code>get-path-from-object.R</code> now dispatch on this class. This had been discussed in the past but was primarily done now in preparation for beginning development for Stan modeling, which will create <code>bbi_stan_model</code> and <code>bbi_stan_summary</code> objects that will also inherit from this parent class. (#332)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.0" id="bbr-100">bbr 1.0.0<a class="anchor" aria-label="anchor" href="#bbr-100"></a></h2>
<p>This release is fairly small in terms of changes, but it increments to a new major release version primarily because of the name change which happened in <code>bbr 0.12.0</code>. The most significant change, from a user perspective, is to the default behavior of where <code>bbr</code> looks for <code>bbi</code> on the system. This change is described in <a href="https://github.com/metrumresearchgroup/bbr/issues/321" class="external-link">issue #321</a> and a bit more detail is given below.</p>
<p>The <code>1.0.0</code> release also represents a stable feature set of basic NONMEM-related functionality. While there will be more features and development relevant to NONMEM in the future, for the immediate future we are shifting our attention towards building similar functionality to support Stan modeling with <code>bbr</code>.</p>
<div class="section level3">
<h3 id="new-features-and-changes-1-0-0">New features and changes<a class="anchor" aria-label="anchor" href="#new-features-and-changes-1-0-0"></a></h3>
<ul><li><p>The minimum compatible version of <code>bbi</code> is increased to <code>3.0.2</code>. This is because there was a breaking change in <code>bbi 3.0.2</code> which changed all references to <code>"Patients"</code> in the <code>bbi nonmem summary</code> output to <code>"Patients"</code> (discussed further below). Also because there was a bug where <code>bbi</code> could not parse the summary output from NONMEM 7.5 and this bug was fixed in <code>bbi 3.0.1</code>.</p></li>
<li><p><code>options("bbr.bbi_exe_path")</code>, which tells <code>bbr</code> where to look for a <code>bbi</code> installation, now defaults to <code>"bbi"</code>. This means that, by default, <code>bbr</code> will look for a <code>bbi</code> installation in the user’s <code>$PATH</code>. <code>options("bbr.bbi_exe_path")</code> can still be set manually by the user and, in fact, we encourage users to set this to an absolute path in their <code>.Rprofile</code> for their project because this explicitly guarantees the correct <code>bbi</code> installation is being used. (#322)</p></li>
<li><p>The <code><a href="../reference/use_bbi.html">use_bbi()</a></code> installer function first tries to install to whatever path is set in <code>options("bbr.bbi_exe_path")</code>, falling back to the <code>bbi</code> in my <code>$PATH</code> (accessed via <code>Sys.which("bbi")</code>) and then an OS-dependent default, in that order. See <code>?use_bbi()</code> for more details. (#322)</p></li>
<li><p>Added print method for <code>bbi_nonmem_model</code> object. Similar to the <code>bbi_nonmem_summary</code> object, the <code>bbi_nonmem_model</code> object should print nicely in the console, and also look good in <code>.Rmd</code> chunks with the option <code>results = 'asis'</code>. (#307)</p></li>
<li><p>Added <code><a href="../reference/get_data_path.html">get_data_path()</a></code> helper function to extract the absolute path to the input data file from <code>bbi_nonmem_model</code> and <code>bbi_nonmem_summary</code> objects. (#314)</p></li>
<li><p>Added <code><a href="../reference/build_path_from_model.html">build_path_from_model()</a></code> helper function to extract the absolute path to various output files from <code>bbi_nonmem_model</code> and <code>bbi_nonmem_summary</code> objects. (#314)</p></li>
<li><p>The output from <code><a href="../reference/model_summary.html">model_summary()</a></code> (and <code><a href="../reference/model_summaries.html">model_summaries()</a></code> and <code><a href="../reference/summary_log.html">summary_log()</a></code>) will now refer to individuals in the data set as <code>"Subjects"</code> instead of <code>"Patients"</code>, in accordance with the terminology widely used in scientific and medical literature. (#320)</p></li>
<li><p>Per guidance in <code>rbabylon 0.10.0</code> release, <code>replace_tags()</code>, <code>replace_bbi_args()</code>, <code>replace_based_on()</code>, <code>add_decisions()</code>, and <code>replace_decisions()</code> will now error instead of warn about their impending deprecation. These functions will be removed entirely in two more releases.</p></li>
</ul></div>
<div class="section level3">
<h3 id="developer-facing-changes-1-0-0">Developer-facing changes<a class="anchor" aria-label="anchor" href="#developer-facing-changes-1-0-0"></a></h3>
<ul><li><p>We are no longer checking in either the <code>.Rprofile</code> or anything in the <code>renv</code> folder. As a result, the development workflow has changed slightly. This change is reflected in the README. (#307 and #308)</p></li>
<li><p>Added an option to suppress the minimum <code>bbi</code> version constraint. <strong>This is intended only for developers</strong> who want to try out development (unreleased) version of <code>bbi</code> while developing on <code>bbr</code>. (#305)</p></li>
<li><p>Our Drone CI system now uses a <code>.drone.yml</code> instead of <code>.drone.jsonette</code>. We have also switched the containers that we use for testing in CI to smaller containers which are more specialized for the purpose. (#309)</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.12.0" id="bbr-0120">bbr 0.12.0<a class="anchor" aria-label="anchor" href="#bbr-0120"></a></h2>
<p><strong>This package has been renamed to from <code>rbabylon</code> to <code>bbr</code></strong> and the accompanying command-line tool has been renamed from <code>babylon</code> to <code>bbi</code> (which was already its alias, used throughout the package). Any mentions of <code>babylon</code> and <code>rbabylon</code> throughout the package have been renamed accordingly. Mentions of either in the older parts of this <code>NEWS.md</code> document were left as is for historical purposes.</p>
<div class="section level3">
<h3 id="new-features-and-changes-0-12-0">New features and changes<a class="anchor" aria-label="anchor" href="#new-features-and-changes-0-12-0"></a></h3>
<ul><li>The minimum compatible version of <code>bbi</code> is increased to <code>3.0.0</code>.</li>
</ul></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Seth Green, Kyle Meyer, Devin Pastoor, Anna-Christina Nevison, Sean Wilson, Samuel Callisto, Tim Waterhouse, Kyle T Baron.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

