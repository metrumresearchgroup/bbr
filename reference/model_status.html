<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Check the status of NONMEM run(s) — model_status • bbr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Check the status of NONMEM run(s) — model_status"><meta property="og:description" content="Checks the status of bbi_base_model object(s) by looking for a
bbi_config.json file. Other operations (such as returning messages or
freezing the R console) may be done as a result."><meta property="og:image" content="https://metrumresearchgroup.github.io/bbr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bbr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.11.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/getting-started.html">Getting Started with bbr</a>
    </li>
    <li>
      <a href="../articles/nonmem-parallel.html">Running NONMEM in Parallel: bbr Tips and Tricks</a>
    </li>
    <li>
      <a href="../articles/parameter-labels.html">bbr Parameter Labels</a>
    </li>
    <li>
      <a href="../articles/using-based-on.html">Using the based_on field</a>
    </li>
    <li>
      <a href="../articles/using-summary-log.html">Creating a Model Summary Log</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/metrumresearchgroup/bbr" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Check the status of <code>NONMEM</code> run(s)</h1>
    <small class="dont-index">Source: <a href="https://github.com/metrumresearchgroup/bbr/blob/HEAD/R/model-status.R" class="external-link"><code>R/model-status.R</code></a></small>
    <div class="hidden name"><code>model_status.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Checks the status of <code>bbi_base_model</code> object(s) by looking for a
<code>bbi_config.json</code> file. Other operations (such as returning messages or
freezing the <code>R</code> console) may be done as a result.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">check_nonmem_finished</span><span class="op">(</span><span class="va">.mod</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_model_status</span><span class="op">(</span><span class="va">.mod</span>, max_print <span class="op">=</span> <span class="fl">10</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">wait_for_nonmem</span><span class="op">(</span><span class="va">.mod</span>, .time_limit <span class="op">=</span> <span class="fl">300</span>, .interval <span class="op">=</span> <span class="fl">5</span>, .delay <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>.mod</dt>
<dd><p>a <code>bbi_base_model</code> or list of <code>bbi_base_model</code> objects. Other
packages (e.g., <code>bbr.bayes</code>) may add additional methods.</p></dd>


<dt>...</dt>
<dd><p>Arguments passed to methods.</p></dd>


<dt>max_print</dt>
<dd><p>max number of models to explicitly print to the console. If
the number of finished or incomplete models are greater than this number,
just print the <em>number</em> of models.</p></dd>


<dt>.time_limit</dt>
<dd><p>integer for maximum number of seconds in total to wait
before continuing (will exit after this time even if the run does not appear
to have finished).</p></dd>


<dt>.interval</dt>
<dd><p>integer for number of seconds to wait between each check.</p></dd>


<dt>.delay</dt>
<dd><p>integer for number of seconds to wait before scanning the output
directories. This function will exit early if no output directory exists, so
this argument serves to delay this evaluation (e.g. if calling right after
<code><a href="submit_model.html">submit_model()</a></code> in an <code>Rmarkdown</code> file).</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>If the result of <code>get_model_status()</code> assigned to a variable, users can
inspect the full list of runs to determine exactly which models are still
running vs. have finished executing:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">get_model_status</span>(mod_list)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>res</span></code></pre><p></p></div><div class="section">
<h3 id="bootstrap-runs">Bootstrap Runs<a class="anchor" aria-label="anchor" href="#bootstrap-runs"></a></h3>


<p>When providing a <code>bbi_nmboot_model</code> object to <code>get_model_status()</code> or
<code>wait_for_nonmem()</code>, the individual model runs (<code>get_boot_models(.boot_run)</code>)
will be checked instead, returning more informative messages about the status
of the bootstrap run.</p>
</div>

    </div>
    <div id="functions">
    <h2>Functions</h2>
    
<ul><li><p><code>check_nonmem_finished()</code>: Returns <code>TRUE</code> if the model appears to be finished
running and <code>FALSE</code> otherwise.</p></li>
<li><p><code>get_model_status()</code>: Returns messages indicating which model(s) have
finished executing and which are incomplete. Also invisibly returns a
<code>data.frame</code> with a row for each model and a logical <code>finished</code> column.</p></li>
<li><p><code>wait_for_nonmem()</code>: Wait for <code>NONMEM</code> models to finish. i.e. freeze the
user's console until the model(s) have finished running.</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check if model(s) or bootstrap run has finished:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">check_nonmem_finished</span><span class="op">(</span><span class="va">.mod</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#&gt; [1] TRUE</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">check_nonmem_finished</span><span class="op">(</span><span class="va">.boot_run</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#&gt; [1] FALSE</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Inspect progress of model(s) or bootstrap run:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_model_status</span><span class="op">(</span><span class="va">.mod</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#&gt; The following model(s) have finished: `1`</span></span></span>
<span class="r-in"><span><span class="co">#&gt; 0 model(s) are incomplete</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_model_status</span><span class="op">(</span><span class="va">.boot_run</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#&gt; 25 model(s) have finished</span></span></span>
<span class="r-in"><span><span class="co">#&gt; 75 model(s) are incomplete</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_model_status</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">.mod</span>, <span class="va">.boot_run</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#&gt; The following model(s) have finished: `1`</span></span></span>
<span class="r-in"><span><span class="co">#&gt; The following model(s) are incomplete: `1-boot`</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Freeze the `R` console until model(s) or bootstrap run has finished:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">wait_for_nonmem</span><span class="op">(</span><span class="va">.mod</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#&gt; Waiting for 1 model(s) to finish...</span></span></span>
<span class="r-in"><span><span class="co">#&gt; 1 model(s) have finished</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Batch submissions take longer to start</span></span></span>
<span class="r-in"><span><span class="fu">wait_for_nonmem</span><span class="op">(</span><span class="va">.boot_run</span>, .delay <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#&gt; Waiting for 100 model(s) to finish...</span></span></span>
<span class="r-in"><span><span class="co">#&gt; Waiting for 50 model(s) to finish...</span></span></span>
<span class="r-in"><span><span class="co">#&gt; 100 model(s) have finished</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Seth Green, Kyle Barrett, Ryan Marinelli, Kyle Meyer, Devin Pastoor, Anna-Christina Nevison, Sean Wilson, Samuel Callisto, Tim Waterhouse, Kyle T Baron.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

